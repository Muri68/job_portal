{% extends "base.html" %}
{% load static %}

{% block title %} Contact Us {% endblock %}

{% block extra_css %}
    <!-- Your existing CSS remains the same -->
    <style>
        /* Your existing CSS styles */
        .alert-success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .contact-message-success {
            background: linear-gradient(rgba(37, 125, 212, 0.9), rgba(37, 125, 212, 0.95));
            color: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 2rem;
        }
    </style>

    <style>
        /* Navigation Styles */
        .navbar {
            padding: 15px 0;
            transition: all 0.3s ease;
            background: white !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 1000;
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.8rem;
            color: var(--primary);
            display: flex;
            align-items: center;
        }
        
        .navbar-brand .logo {
            height: 100px;
            margin-right: 10px;
        }
        
        .navbar-nav .nav-link {
            color: var(--dark);
            font-weight: 500;
            margin: 0 10px;
            transition: color 0.3s ease;
            position: relative;
        }
        
        .navbar-nav .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover::after,
        .navbar-nav .nav-link.active::after {
            width: 100%;
        }
        
        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            color: var(--primary);
        }
        
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            padding: 12px 30px;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .btn-outline-primary {
            border-color: var(--primary);
            color: var(--primary);
            padding: 10px 25px;
            transition: all 0.3s ease;
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary);
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        /* Hero Section */
        .contact-hero {
            background: linear-gradient(rgba(1, 12, 22, 0.8),   /* #257dd4 with 80% opacity */
              rgba(2, 13, 23, 0.8)), url('https://images.unsplash.com/photo-1516387938699-a93567ec168e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80');
            background-size: cover;
            background-position: center;
            padding: 100px 0 60px;
            color: white;
        }
        
        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .breadcrumb {
            background: transparent;
            margin-bottom: 0;
            padding: 0;
        }
        
        .breadcrumb-item a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
        }
        
        .breadcrumb-item.active {
            color: white;
        }
        
        .breadcrumb-item + .breadcrumb-item::before {
            color: rgba(255, 255, 255, 0.8);
        }
        
        /* Contact Section */
        .contact-section {
            padding: 80px 0;
        }
        
        .section-title {
            margin-bottom: 50px;
            text-align: center;
            position: relative;
        }
        
        .section-title h2 {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
        }
        
        .section-title p {
            color: var(--secondary);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 4px;
            background: var(--primary);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        
        /* Contact Cards */
        .contact-card {
            background: white;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 30px;
            height: 100%;
            border-top: 4px solid transparent;
        }
        
        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-top-color: var(--primary);
        }
        
        .contact-icon {
            width: 70px;
            height: 70px;
            background: var(--light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: var(--primary);
            font-size: 1.8rem;
            transition: all 0.3s ease;
        }
        
        .contact-card:hover .contact-icon {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }
        
        /* Contact Form */
        .contact-form {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .contact-form:hover {
            transform: translateY(-3px);
        }
        
        .form-control {
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.25rem rgba(0, 80, 83, 0.15);
        }
        
        textarea.form-control {
            min-height: 150px;
        }
        
        /* Map Section */
        .map-section {
            padding: 0 0 80px;
        }
        
        .map-container {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            height: 400px;
            transition: transform 0.3s ease;
        }
        
        .map-container:hover {
            transform: translateY(-3px);
        }
        
        .map-placeholder {
            background: linear-gradient(rgba(0, 80, 83, 0.1), rgba(0, 80, 83, 0.1)), url('https://images.unsplash.com/photo-1542744095-291d1f67b221?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        /* FAQ Section */
        .faq-section {
            background: var(--light);
            padding: 80px 0;
        }
        
        .accordion-item {
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .accordion-item:hover {
            transform: translateY(-2px);
        }
        
        .accordion-button {
            font-weight: 500;
            padding: 20px;
            background: white;
        }
        
        .accordion-button:not(.collapsed) {
            background: white;
            color: var(--primary);
            box-shadow: none;
        }
        
        .accordion-button:focus {
            box-shadow: none;
            border-color: #e2e8f0;
        }
        
        .accordion-button::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23005053'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
        
        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 768px) {
            .hero-title {
                font-size: 1.8rem;
            }
            
            .contact-section, .faq-section {
                padding: 60px 0;
            }
            
            .contact-form {
                padding: 25px;
            }
            
            .navbar-brand .logo {
                height: 30px;
            }
        }
    </style>


{% endblock extra_css %}

{% block content %}

    <!-- Hero Section -->
    <section class="contact-hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <h1 class="hero-title">Get In Touch With Us</h1>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Contact</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Have questions or need assistance? We're here to help!</p>
            </div>
            
            <!-- Success Message -->
            {% if message_sent %}
            <div class="contact-message-success">
                <i class="fas fa-check-circle fa-3x mb-3"></i>
                <h3>Thank You!</h3>
                <p>Your message has been sent successfully. We'll get back to you soon.</p>
            </div>
            {% endif %}
            
            <div class="row mb-5">
                {% for info in contact_info %}
                <div class="col-lg-4 col-md-6">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="bi {{ info.icon }}"></i>
                        </div>
                        <h4>{{ info.title }}</h4>
                        <p>{{ info.value|linebreaksbr }}</p>
                    </div>
                </div>
                {% empty %}
                <!-- Default contact info if none exists -->
                <div class="col-lg-4 col-md-6">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h4>Our Location</h4>
                        <p>{{ site_settings.address|default:"1234 Street Name, City, State, Country 12345" }}</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <h4>Phone Number</h4>
                        <p>{{ site_settings.phone_number|default:"+1 (123) 456-7890" }}</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mx-md-auto">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="far fa-envelope"></i>
                        </div>
                        <h4>Email Address</h4>
                        <p>{{ site_settings.contact_email|default:"info@techrecruitment.com" }}</p>
                        <p>{{ site_settings.support_email|default:"support@techrecruitment.com" }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="contact-form">
                        <h3 class="text-center mb-4">Send Us a Message</h3>
                        <form method="post">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    {{ form.name }}
                                    {% if form.name.errors %}
                                    <div class="text-danger small">{{ form.name.errors.0 }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6">
                                    {{ form.email }}
                                    {% if form.email.errors %}
                                    <div class="text-danger small">{{ form.email.errors.0 }}</div>
                                    {% endif %}
                                </div>
                            </div>
                            {{ form.subject }}
                            {% if form.subject.errors %}
                            <div class="text-danger small">{{ form.subject.errors.0 }}</div>
                            {% endif %}
                            {{ form.message }}
                            {% if form.message.errors %}
                            <div class="text-danger small">{{ form.message.errors.0 }}</div>
                            {% endif %}
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary">Send Message</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section class="map-section">
        <div class="container">
            <div class="map-container">
                {% if site_settings.map_embed_code %}
                    {{ site_settings.map_embed_code|safe }}
                {% else %}
                <div class="map-placeholder">
                    <div class="text-center">
                        <i class="fas fa-map-marker-alt fa-2x mb-2"></i>
                        <p>Our Location Map</p>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <div class="section-title">
                <h2>Frequently Asked Questions</h2>
                <p>Find answers to common questions about {{ site_settings.site_name }}</p>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="accordion" id="faqAccordion">
                        {% for faq in faqs %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                                <button class="accordion-button {% if not forloop.first %}collapsed{% endif %}" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ forloop.counter }}" aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" aria-controls="collapse{{ forloop.counter }}">
                                    {{ faq.question }}
                                </button>
                            </h2>
                            <div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    {{ faq.answer|linebreaks }}
                                </div>
                            </div>
                        </div>
                        {% empty %}
                        <!-- Default FAQs if none exist -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    How do I create an account?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Creating an account is simple. Click on the "Sign Up" button at the top right corner of the page, fill in your details, and verify your email address. Once verified, you can start using our platform immediately.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    How can employers post jobs?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Employers can post jobs by creating an employer account, then clicking on "Post a Job" from the dashboard. You'll need to provide details about the job position, requirements, and company information.
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock content %}